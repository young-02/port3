<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="youngee">
    <meta name="description" content="youngee react portfolio">
    <meta name="keywords" content="portfolio, 웹퍼블리셔, 프론트엔드">
    <title>young portfolio</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"/>
    <link rel="stylesheet" href="../asset/css/main.css">
    <link rel="stylesheet" href="../asset/css/sub.css">
    <link rel="stylesheet" href="../asset/css/loading.css">
</head>
<body>


    <div id="loading" class="start">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
    </div>

    <!-- scroll -->
    <div class="scorll">
        scorll
    </div>
    <!-- //scroll -->

    <!-- button -->
    <button class="button_su login">
        <span class="su_button_circle">
        </span>
        <a href="#" class="button_su_inner">
            <span class="button_text_container">
                Login
            </span>
        </a>
    </button>
    <!-- //button -->

    <!-- cusor -->
    <div class="cursor"></div>
    <!-- //cusor -->

    <!-- header -->
    <header id="header" >
        <h1><a href="../index2.html">Y</a></h1>
        <a href="#" class="m-menu">
            <span></span>
            <span></span>
            <span></span>
        </a>
        <nav>
            <ul>
                <li><a href="page/project.html" class=" page__click">Project</a></li>
                <li><a href="page/animation.html" class="page__click">Animation</a></li>
                <li><a href="page/javascript.html" class="active page__click">Javascript</a></li>
                <li><a href="page/board.html" class="page__click">board</a></li>
                <li><a href="page/contact.html" class="page__click">contact</a></li>
            </ul>
        </nav>
    </header>
    <!-- //header -->
             
    <main>
        <section class="sub">

        <!-- sub-top -->
        <article class="content-aticle">
            <h3 class="ir_so">sub main</h3>
            <section id="section01" class="intro-wrap">
                <h3 class="ir_so">intro wrap</h3>
                <div class="bg"></div>
                <div class="intro-content section-title" >
                    <p class="back-title">javascript</p>
                    <div class="sub-top">
                    <h5 class="strip">
                        I can make it a bit more <em class="reveal-text">dynamic</em>
                        with <em class="reveal-text">javascript</em>.
                        In the future, we will <em class="reveal-text">study</em> more and implement many things.
                    </h5> 
                    </div>
                </div>
            </section>
        </article>
         <!-- //sub-top -->

             

         
            <!-- javascript -->
            <article class="content-aticle">
                <h3 class="ir_so"> javascript </h3>
                <section id="javascript" >
                    <h4 class="ir_so">javascript</h4>
                    <div class="container">
                        <section id="section1">
                            <div class="section-grid">
                              <div class="left">
                                <div class="grid-text">
                                    <h4>javascript01</h4>
                                    <h5>Calculator</h5>
                                    <p>자바스크립트를 이용하여 계산기를 제작 하였습니다.</p>
                                    <button class="button_su">
                                        <span class="su_button_circle">
                                        </span>
                                        <a href="#" class="button_su_inner">
                                            <span class="button_text_container">
                                                codepen
                                            </span>
                                        </a>
                                    </button>
                                </div>
                              </div>
                              <div class="right">
                                <div class="grid-image image-1 active">
                                    <div class="wrap">
                                        <div class="calculator">
                                            <form action="" name="forms">
                                                <input type="text" name="output" readonly class="output">
                                                <input type="button" class="clear" value="C">
                                                <input type="button" class="operator" value="/">
                                                <input type="button" value="1" >
                                                <input type="button" value="2">
                                                <input type="button" value="3">
                                                <input type="button"  class="operator" value="*">
                                                <input type="button" value="4" >
                                                <input type="button" value="5" >
                                                <input type="button" value="6" >
                                                <input type="button"  class="operator" value="+" >
                                                <input type="button" value="7" >
                                                <input type="button" value="8" >
                                                <input type="button" value="9" >
                                                <input type="button"  class="operator" value="-" >
                                                <input type="button"  class="dot" value="." >
                                                <input type="button" value="0" >
                                                <input type="button"  class="operator result" value="=">
                                            </form>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="mobile-image">
                                    <img src="../asset/image/sub/javascript01.jpg"art="javascript01">
                                </div> -->
                              </div>
                            </div>
                          </section>
                          <section id="section2">
                            <div class="section-grid">
                              <div class="left">
                                <div class="grid-text">
                                    <h4>javascript02</h4>
                                    <h5>지뢰찾기 게임</h5>
                                    <p>자바스크립트를 이용하여 지뢰찾기 게임을 제작하였습니다.</p>
                                    <button class="button_su">
                                        <span class="su_button_circle">
                                        </span>
                                        <a href="#" class="button_su_inner">
                                            <span class="button_text_container">
                                                codepen
                                            </span>
                                        </a>
                                    </button>
                                </div>
                              </div>
                              <div class="right">
                                <div class="grid-image image-2 active">
                                    <!-- <img src="../asset/image/sub/javascript02.jpg"art="javascript01"> -->
                                  <div class="wrap">
                                  <div class="board"></div>

                                    <a href="#!" class="btn">New Game</a>

                                    <div class="endscreen"></div>
                                  </div>
                                </div>
                                <!-- <div class="mobile-image">
                                    <img src="../asset/image/sub/javascript02.jpg"art="javascript01">
                                </div> -->
                              </div>
                            </div>
                          </section>
                          <section id="section3">
                            <div class="section-grid">
                              <div class="left">
                                <div class="grid-text">
                                    <h4>javascript03</h4>
                                    <h5>Stars rating</h5>
                                    <p>제이쿼리를 이용하여 별점 애니메이션을 제작하였습니다.</p>
                                    <button class="button_su">
                                        <span class="su_button_circle">
                                        </span>
                                        <a href="#" class="button_su_inner">
                                            <span class="button_text_container">
                                                codepen
                                            </span>
                                        </a>
                                    </button>
                                </div>
                              </div>
                              <div class="right">
                                 <div class="grid-image image-3 active">
                                    <!-- <img src="../asset/image/sub/javascript03.jpg" art="javascript03"> -->
                                   <div class="wrap">
                                       <nav class="rating">
                                       <ul>
                                           <li class="current">
                                           <svg>
                                               <use xlink:href="#star"></use>
                                           </svg>
                                           </li>
                                           <li>
                                           <svg>
                                               <use xlink:href="#star"></use>
                                           </svg>
                                           </li>
                                           <li>
                                           <svg>
                                               <use xlink:href="#star"></use>
                                           </svg>
                                           </li>
                                           <li><span></span>
                                           <svg>
                                               <use xlink:href="#star"></use>
                                           </svg>
                                           </li>
                                           <li><span></span>
                                           <svg>
                                               <use xlink:href="#star"></use>
                                           </svg>
                                           </li>
                                       </ul>
                                       <div><span>
                                           <svg>
                                               <use xlink:href="#star"></use>
                                           </svg></span></div>
                                       </nav>
                                       <svg xmlns="http://www.w3.org/2000/svg" style="display: none">
                                       <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 34" id="star">
                                           <path fill="currentColor" d="M19.6859343,0.861782958 L24.8136328,8.05088572 C25.0669318,8.40601432 25.4299179,8.6717536 25.8489524,8.80883508 L34.592052,11.6690221 C35.6704701,12.021812 36.2532905,13.1657829 35.8938178,14.2241526 C35.8056709,14.4836775 35.6647294,14.7229267 35.4795411,14.9273903 L29.901129,21.0864353 C29.5299163,21.4962859 29.3444371,22.0366367 29.3872912,22.5833831 L30.1116131,31.8245163 C30.1987981,32.9368499 29.3506698,33.9079379 28.2172657,33.993502 C27.9437428,34.0141511 27.6687736,33.9809301 27.4085205,33.8957918 L18.6506147,31.0307612 C18.2281197,30.8925477 17.7713439,30.8925477 17.3488489,31.0307612 L8.59094317,33.8957918 C7.51252508,34.2485817 6.34688429,33.6765963 5.98741159,32.6182265 C5.90066055,32.3628116 5.86681029,32.0929542 5.88785051,31.8245163 L6.61217242,22.5833831 C6.65502653,22.0366367 6.46954737,21.4962859 6.09833466,21.0864353 L0.519922484,14.9273903 C-0.235294755,14.0935658 -0.158766688,12.8167745 0.690852706,12.0755971 C0.899189467,11.8938516 1.14297067,11.7555303 1.40741159,11.6690221 L10.1505113,8.80883508 C10.5695458,8.6717536 10.9325319,8.40601432 11.1858308,8.05088572 L16.3135293,0.861782958 C16.9654141,-0.0521682813 18.2488096,-0.274439442 19.1800736,0.365326425 C19.3769294,0.500563797 19.5481352,0.668586713 19.6859343,0.861782958 Z"></path>
                                       </symbol>
                                       <path class="shadow" d="M18.7022469,29.7633426 L29.1611722,33.6861584 C28.8859085,33.8576358 28.5650147,33.9672494 28.2172657,33.993502 C27.9437428,34.0141511 27.6687736,33.9809301 27.4085205,33.8957918 L18.6506147,31.0307612 C18.2281197,30.8925477 17.7713439,30.8925477 17.3488489,31.0307612 L8.59094317,33.8957918 C7.98083887,34.0953792 7.34281791,33.9989813 6.83864817,33.6859784 L17.2977531,29.7633426 C17.7505234,29.5935537 18.2494766,29.5935537 18.7022469,29.7633426 Z"></path>
                                       </svg>
                                       
                                   </div>

                              
                              </div>
                            </div>
                          </section>
                    </div>
                </section>
            </article>
            <!-- //javascript -->

             <!-- main-comment -->
            <article class="full-aticle">
            <h3 class="ir_so">메인 comment</h3>
            <section id="main-comment" class="section-title" data-text="comment">
                <h4 class="ir_so">comment</h4>
                <div class="container">
                    <div class="main-comment">
                        <h5 class="title">Javascript comment</h5>
                        <p class="sub_title">Leave a comment about me~ 👍</p>
                        <div class="comment-form">
                            <form name="comment" method="post" action="../comment/commentJavascript.php">
                                <fieldset> 
                                    <legend class="ir_so">댓글</legend>
                                    <div class="comment-wrap">
                                        <div>
                                            <label for="youName" class="ir_so">이름</label>
                                            <input class="inputText" type="text" name="youName" id="youName"
                                                placeholder="Name" autocomplete="off" required>
                                        </div>
                                        <div>
                                            <label for="youText" class="ir_so">코멘드를 적어주세요</label>
                                            <input class="inputText width" type="text" name="youText" id="youText"
                                                placeholder="Please write a comment" autocomplete="off" required>
                                        </div>

                                        <div>
                                            <button class="button_su" type="submit">
                                                <span class="su_button_circle">
                                                </span>
                                                <a href="#" class="button_su_inner">
                                                    <span class="button_text_container">
                                                        Enter
                                                    </span>
                                                </a>
                                            </button>

                                        </div>

                                    </div>
                                </fieldset>
                            </form>
                        </div>
                        <div class="comment-list-wrap ">

                            <ul class="comment-list ">
                                                          
                                <!-- <li class="comment-box swiper-slide">
                                    <h6>이름</h6>
                                    <p>Lorem ipsum dolor sit amet consectetur
                                        adipisicing elit. Reiciendis hic accusamus
                                        sed asperiores, animi voluptatibus optio,
                                    </p>
                                    <span>2021.12.22</span>
                                </li> 
                           
                              -->
                                <?php
                                    include '../conect/conect.php';
                                    
                                    $sql = 'SELECT * FROM myComment4 ORDER BY regTime DESC LIMIT 5';
                                    $result = $connect -> query($sql);

                                    while($date = mysqli_fetch_array($result)){
                                    ?>
                                       
                                        <li class="comment-box ">
                                            <h6><?=$date['youName']?> </h6>
                                            <p><?=$date['youText']?>
                                            </p>
                                            <span><?=date('Y-m-d H:i',$date['regTime'])?></span>
                                        </li>
                               
                                <?php
                                    }
                                ?>  

                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </article>
        <!-- //main-comment -->
        </section>
    </main>

  <!-- footer -->
  <footer>
        <section id="footer">
            <h3 class="ir_so">footer</h3>
            <div class="container">
                <div class="footer-inner">
                    <div class="footer-contact">
                        <h4>What is this site?</h4>

                        <button class="button_su">
                            <span class="su_button_circle">
                            </span>
                            <a href="#" class="button_su_inner">
                                <span class="button_text_container">
                                    Contact me
                                </span>
                            </a>
                        </button>

                    </div>

                    <div class="conents_wrap">
                        <h4>Contents</h4>
                        <ul class="footer-contents">
                            <li><a href="#">Project</a></li>
                            <li><a href="#">Animation</a></li>
                            <li><a href="#">Javascript</a></li>
                            <li><a href="#">board</a></li>
                            <li><a href="#">Contant</a></li>
                        </ul>
                    </div>

                </div>
            </div>
            <div class="footer-copy">
                <ul class="sns">
                    <li class="gitbook">
                        <a href="#">
                            <svg width="32" height="32" viewBox="0 0 42 42" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0)">
                                    <path
                                        d="M18.9 31.1061C19.5563 31.1061 20.1469 31.6311 20.1469 32.353C20.1469 33.0093 19.6219 33.5999 18.9 33.5999C18.2438 33.5999 17.6532 33.0749 17.6532 32.353C17.6532 31.6311 18.2438 31.1061 18.9 31.1061ZM38.1938 23.4936C37.5375 23.4936 36.9469 22.9686 36.9469 22.2468C36.9469 21.5905 37.4719 20.9999 38.1938 20.9999C38.85 20.9999 39.4407 21.5249 39.4407 22.2468C39.4407 22.903 38.85 23.4936 38.1938 23.4936ZM38.1938 18.4405C36.0938 18.4405 34.3875 20.1468 34.3875 22.2468C34.3875 22.6405 34.4532 23.0343 34.5844 23.428L22.05 30.1218C21.3282 29.0718 20.1469 28.4811 18.9 28.4811C17.4563 28.4811 16.1438 29.3343 15.4875 30.5811L4.20003 24.6749C3.01878 24.0186 2.10003 22.1155 2.23128 20.278C2.29691 19.3593 2.62503 18.6374 3.08441 18.3749C3.41253 18.178 3.74066 18.2436 4.20003 18.4405L4.26566 18.5061C7.28441 20.0811 17.0625 25.1999 17.4563 25.3968C18.1125 25.6593 18.4407 25.7905 19.5563 25.2655L39.7688 14.7655C40.0969 14.6343 40.425 14.3718 40.425 13.9124C40.425 13.3218 39.8344 13.0593 39.8344 13.0593C38.6532 12.5343 36.8813 11.6811 35.175 10.8936C31.5 9.1874 27.3 7.21865 25.4625 6.23427C23.8875 5.38115 22.575 6.10302 22.3782 6.23427L21.9188 6.43115C13.5844 10.6311 2.55941 16.078 1.90316 16.4718C0.787531 17.128 0.0656559 18.5061 3.0877e-05 20.2124C-0.131219 22.903 1.24691 25.7249 3.21566 26.7093L15.1594 32.878C15.4219 34.7155 17.0625 36.1593 18.9 36.1593C21 36.1593 22.6407 34.5186 22.7063 32.4186L35.8313 25.3311C36.4875 25.8561 37.3407 26.1186 38.1938 26.1186C40.2938 26.1186 42 24.4124 42 22.3124C42 20.1468 40.2938 18.4405 38.1938 18.4405Z"
                                        fill="#4285FD"></path>
                                </g>
                                <defs>
                                    <clipPath id="clip0">
                                        <rect width="42" height="42" fill="white"></rect>
                                    </clipPath>
                                </defs>
                            </svg>
                        </a>
                    </li>
                    <li class="github">
                        <a href="#">
                            <svg width="28" height="27" viewBox="0 0 31 30" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M15.3223 0C6.85671 0 0 6.79581 0 15.1862C0 21.906 4.386 27.5819 10.4766 29.594C11.2427 29.7269 11.53 29.2713 11.53 28.8727C11.53 28.512 11.5109 27.3161 11.5109 26.0443C7.66113 26.7466 6.66519 25.1141 6.35874 24.2599C6.18636 23.8233 5.4394 22.4755 4.78821 22.1148C4.25193 21.8301 3.48582 21.1277 4.76905 21.1088C5.97568 21.0898 6.83756 22.2098 7.12485 22.6653C8.50386 24.9623 10.7064 24.3168 11.5875 23.9182C11.7215 22.9311 12.1237 22.2667 12.5643 21.8871C9.15505 21.5074 5.59263 20.1976 5.59263 14.3889C5.59263 12.7374 6.18636 11.3706 7.16316 10.3076C7.00994 9.92795 6.47366 8.37137 7.31638 6.28328C7.31638 6.28328 8.59962 5.88464 11.53 7.83986C12.7558 7.49817 14.0582 7.32732 15.3606 7.32732C16.663 7.32732 17.9654 7.49817 19.1911 7.83986C22.1215 5.86566 23.4048 6.28328 23.4048 6.28328C24.2475 8.37137 23.7112 9.92795 23.558 10.3076C24.5348 11.3706 25.1285 12.7184 25.1285 14.3889C25.1285 20.2166 21.5469 21.5074 18.1377 21.8871C18.6932 22.3616 19.172 23.2728 19.172 24.6965C19.172 26.7276 19.1528 28.3602 19.1528 28.8727C19.1528 29.2713 19.4401 29.7459 20.2062 29.594C26.2585 27.5819 30.6445 21.8871 30.6445 15.1862C30.6445 6.79581 23.7878 0 15.3223 0Z"
                                    fill="white"></path>
                            </svg>

                        </a>
                    </li>
                    <li>
                        <a href="#">publisher portpolio</a>
                    </li>
                </ul>
            </div>
        </section>
 </footer>
  <!-- footer -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js'></script>
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
   
    <script src="../asset/js/sub.js"></script>
    <script src="../asset/js/main.js"></script>
    <script src="../asset/js/common.js"></script>
    
   
    <script>

        function getInputValue(){
            let input = event.target.value
            console.log(input);
            printValue(input);
        }

        let buttons = document.getElementsByTagName('input');
        console.log(buttons.length);
        for(var i =0; i<buttons.length;i++){
            buttons[i].setAttribute('onclick','getInputValue()');
        }

        function printValue(val){
            let out = document.querySelector(".output");
            let current = out.value;
            if(out.value == "0"){
                
                if(val!= "C" && val!="DEL"){ 
                out.value ="";
                out.value += val;
                }
            }
            else{
                if(val == "DEL" ){
                console.log(current[current.length-1]);
                out.value = current.slice(0,-1);
                if(out.value.length <= 1){
                    out.value = "0";
                }
                }
                if(val!= "C" && val!="DEL" && val!="="){ 
                out.value += val;
                }
                if(val =="="){
                let res = out.value;
                out.value = eval(res);
                }
                if(val == "C"){
                out.value = "0";
                }
            }
            
            }
// 별점 
$('.rating ul li').on('click', function() {

let li = $(this),
    ul = li.parent(),
    rating = ul.parent(),
    last = ul.find('.current');

if(!rating.hasClass('animate-left') && !rating.hasClass('animate-right')) {

    last.removeClass('current');

    ul.children('li').each(function() {
        let current = $(this);
        current.toggleClass('active', li.index() > current.index());
    });

    rating.addClass(li.index() > last.index() ? 'animate-right' : 'animate-left');
    rating.css({
        '--x': li.position().left + 'px'
    });
    li.addClass('move-to');
    last.addClass('move-from');

    setTimeout(() => {
        li.addClass('current');
        li.removeClass('move-to');
        last.removeClass('move-from');
        rating.removeClass('animate-left animate-right');
    }, 800);

}

})



//지뢰게임
        console.clear();

        let size = 5; // size x size tiles
        let bombFrequency = 0.2; // percentage of bombs
        let tileSize = 60;

        const board = document.querySelectorAll('.board')[0];
        let tiles;
        let boardSize;

        const restartBtn = document.querySelectorAll('.btn')[0];
        const endscreen = document.querySelectorAll('.endscreen')[0]

        // settings
        const boardSizeBtn = document.getElementById('boardSize');
        const tileSizeBtn = document.getElementById('tileSize');
        const difficultyBtns = document.querySelectorAll('.difficulty');

        let bombs = [];
        let numbers = [];
        let numberColors = ['#3498db', '#2ecc71', '#e74c3c', '#9b59b6', '#f1c40f', '#1abc9c', '#34495e', '#7f8c8d',];
        let endscreenContent = {win: '<span>✔</span> you won!', loose: '💣 Booom! Game over.'};

        let gameOver = false;

        /* clear board */
        const clear = () => {
            // console.clear();
            gameOver = false;
            bombs = [];
            numbers = [];
            endscreen.innerHTML = '';
            endscreen.classList.remove('show');
            tiles.forEach(tile => {
                tile.remove();
            });
            
            setup();
        }


        /* setup the game */
        const setup = () => {
            for (let i = 0; i < Math.pow(size, 2); i++) {
                const tile = document.createElement('div');
                tile.classList.add('tile');
                board.appendChild(tile);
            }
            tiles = document.querySelectorAll('.tile');
            boardSize = Math.sqrt(tiles.length);
            board.style.width = boardSize * tileSize + 'px';
            
            document.documentElement.style.setProperty('--tileSize', `${tileSize}px`);
            document.documentElement.style.setProperty('--boardSize', `${boardSize * tileSize}px`);
            
            let x = 0;
            let y = 0;
            tiles.forEach((tile, i) => {
                // set tile coordinates
                tile.setAttribute('data-tile', `${x},${y}`);

                // add bombs
                let random_boolean = Math.random() < bombFrequency;
                if (random_boolean) {
                    bombs.push(`${x},${y}`);
                    if (x > 0) numbers.push(`${x-1},${y}`);
                    if (x < boardSize - 1) numbers.push(`${x+1},${y}`);
                    if (y > 0) numbers.push(`${x},${y-1}`);
                    if (y < boardSize - 1) numbers.push(`${x},${y+1}`);
                    
                    if (x > 0 && y > 0) numbers.push(`${x-1},${y-1}`);
                    if (x < boardSize - 1 && y < boardSize - 1) numbers.push(`${x+1},${y+1}`);
                    
                    if (y > 0 && x < boardSize - 1) numbers.push(`${x+1},${y-1}`);
                    if (x > 0 && y < boardSize - 1) numbers.push(`${x-1},${y+1}`);
                }

                x++;
                if (x >= boardSize) {
                    x = 0;
                    y++;
                }
                
                /* rightclick */
                tile.oncontextmenu = function(e) {
                    e.preventDefault();
                    flag(tile);
                }
                
                /* leftclick */
                tile.addEventListener('click', function(e) {
                    clickTile(tile);
                });
            });
            
            numbers.forEach(num => {
                let coords = num.split(',');
                let tile = document.querySelectorAll(`[data-tile="${parseInt(coords[0])},${parseInt(coords[1])}"]`)[0];
                let dataNum = parseInt(tile.getAttribute('data-num'));
                if (!dataNum) dataNum = 0;
                tile.setAttribute('data-num', dataNum + 1);
            });
        }


        /* flag a tile */
        const flag = (tile) => {
            if (gameOver) return;
            if (!tile.classList.contains('tile--checked')) {
                if (!tile.classList.contains('tile--flagged')) {
                    tile.innerHTML = '🚩';
                    tile.classList.add('tile--flagged');
                } else {
                    tile.innerHTML = '';
                    tile.classList.remove('tile--flagged');
                }
            }
        }


        /* check if bomb or not */
        const clickTile = (tile) => {
            if (gameOver) return;
            if (tile.classList.contains('tile--checked') || tile.classList.contains('tile--flagged')) return;
            let coordinate = tile.getAttribute('data-tile');
            if (bombs.includes(coordinate)) {
                endGame(tile);
            } else {
                /* check if nearby bomb */
                let num = tile.getAttribute('data-num');
                if (num != null) {
                    tile.classList.add('tile--checked');
                    tile.innerHTML = num;
                    tile.style.color = numberColors[num-1];
                    setTimeout(() => {
                        checkVictory();
                    }, 100);
                    return;
                }
                
                checkTile(tile, coordinate);
            }
            tile.classList.add('tile--checked');
        }


        /* clicked the right one */
        const checkTile = (tile, coordinate) => {
            
            console.log('✔');
            let coords = coordinate.split(',');
            let x = parseInt(coords[0]);
            let y = parseInt(coords[1]);
            
            /* check nearby tiles */
            setTimeout(() => {
                if (x > 0) {
                    let targetW = document.querySelectorAll(`[data-tile="${x-1},${y}"`)[0];
                    clickTile(targetW, `${x-1},${y}`);
                }
                if (x < boardSize - 1) {
                    let targetE = document.querySelectorAll(`[data-tile="${x+1},${y}"`)[0];
                    clickTile(targetE, `${x+1},${y}`);
                }
                if (y > 0) {
                    let targetN = document.querySelectorAll(`[data-tile="${x},${y-1}"]`)[0];
                    clickTile(targetN, `${x},${y-1}`);
                }
                if (y < boardSize - 1) {
                    let targetS = document.querySelectorAll(`[data-tile="${x},${y+1}"]`)[0];
                    clickTile(targetS, `${x},${y+1}`);
                }
                
                if (x > 0 && y > 0) {
                    let targetNW = document.querySelectorAll(`[data-tile="${x-1},${y-1}"`)[0];
                    clickTile(targetNW, `${x-1},${y-1}`);
                }
                if (x < boardSize - 1 && y < boardSize - 1) {
                    let targetSE = document.querySelectorAll(`[data-tile="${x+1},${y+1}"`)[0];
                    clickTile(targetSE, `${x+1},${y+1}`);
                }
                
                if (y > 0 && x < boardSize - 1) {
                    let targetNE = document.querySelectorAll(`[data-tile="${x+1},${y-1}"]`)[0];
                    clickTile(targetNE, `${x+1},${y-1}`);
                }
                if (x > 0 && y < boardSize - 1) {
                    let targetSW = document.querySelectorAll(`[data-tile="${x-1},${y+1}"`)[0];
                    clickTile(targetSW, `${x-1},${y+1}`);
                }
            }, 10);
        }


        /* Bomb clicked -> end game */
        const endGame = (tile) => {
            console.log('💣 Booom! Game over.');
            endscreen.innerHTML = endscreenContent.loose;
            endscreen.classList.add('show');
            gameOver = true;
            tiles.forEach(tile => {
                let coordinate = tile.getAttribute('data-tile');
                if (bombs.includes(coordinate)) {
                    tile.classList.remove('tile--flagged');
                    tile.classList.add('tile--checked', 'tile--bomb');
                    tile.innerHTML = '💣';
                }
            });
        }

        const checkVictory = () => {
            let win = true;
            tiles.forEach(tile => {
                let coordinate = tile.getAttribute('data-tile');
                if (!tile.classList.contains('tile--checked') && !bombs.includes(coordinate)) win = false;
            });
            if (win) {
                endscreen.innerHTML = endscreenContent.win;
                endscreen.classList.add('show');
                gameOver = true;
            }
        }


        /* start game */
        setup();

        /* click button for new game */
        restartBtn.addEventListener('click', function(e) {
            e.preventDefault();
            clear();
        });

        // settings
        boardSizeBtn.addEventListener('change', function(e) {
            console.log(this.value);
            size = this.value;
            clear();
        });

        tileSizeBtn.addEventListener('change', function(e) {
            console.log(this.value);
            tileSize = this.value;
            clear();
        });

        difficultyBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                console.log(this.value);
                bombFrequency = this.value;
                clear();
            });
        });

        console.log(`${boardSize} x ${boardSize} tiles`);
        console.log('bombs');
        console.log(bombs);
        console.log('numbers');
        console.log(numbers);


    
    </script>
     
</body>
</html>